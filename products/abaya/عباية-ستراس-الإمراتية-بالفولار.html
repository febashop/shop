<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta property="og:image" content="https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-socialmedia.jpg" />
  <meta property="og:image:width" content="500" /> 
  <meta property="og:image:height" content="500" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:title" content="[Ø¹Ø¨Ø§ÙŠØ© Ø³ØªØ±Ø§Ø³ Ø§Ù„Ø¥Ù…Ø±Ø§ØªÙŠØ© |FEBA Shop]" />
  <meta property="og:description" content="[Ø¹Ø¨Ø§ÙŠØ© Ø³ØªØ±Ø§Ø³ Ø§Ù„Ø¥Ù…Ø±Ø§ØªÙŠØ© Ø¨Ø§Ù„ÙÙˆÙ„Ø§Ø± - Ø¹Ø¨Ø§ÙŠØ© Ø£Ù†ÙŠÙ‚Ø© Ù…ØµÙ…Ù…Ø© Ø¨ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø·Ø±Ø²Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ© Ø§Ù„ÙØ§Ø®Ø±Ø© Ù…Ù† FEBA shop]" />
  <meta name="keywords" content="Ø¹Ø¨Ø§ÙŠØ© Ø³ØªØ±Ø§Ø³ Ø§Ù„Ø¥Ù…Ø±Ø§ØªÙŠØ©, Ø¹Ø¨Ø§ÙŠØ© Ø³ØªØ±Ø§Ø³, Ø¹Ø¨Ø§ÙŠØ© Ø³ØªØ±Ø§Ø³ Ø¨Ø§Ù„ÙÙˆÙ„Ø§Ø±, Ø¹Ø¨Ø§ÙŠØ§Øª Ø³ØªØ±Ø§Ø³ Ø´ÙŠÙƒ, Ø¹Ø¨Ø§ÙŠØ§Øª Ø¥Ù…Ø§Ø±Ø§ØªÙŠØ©, Ø¹Ø¨Ø§ÙŠØ© Ø¨Ø§Ù„ÙÙˆÙ„Ø§Ø±, Abaya Strass, Ø¹Ø¨Ø§ÙŠØ§Øª Ø³ØªØ±Ø§Ø³ ÙØ®Ù…Ø©, Ø¹Ø¨Ø§ÙŠØ§Øª Ø³Ù‡Ø±Ø©">
  <meta name="description" content="Ø¹Ø¨Ø§ÙŠØ© Ø³ØªØ±Ø§Ø³ Ø§Ù„Ø¥Ù…Ø±Ø§ØªÙŠØ© Ø¨Ø§Ù„ÙÙˆÙ„Ø§Ø± - Ø¹Ø¨Ø§ÙŠØ© Ø£Ù†ÙŠÙ‚Ø© Ù…ØµÙ…Ù…Ø© Ø¨ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø·Ø±Ø²Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ© Ø§Ù„ÙØ§Ø®Ø±Ø© Ù…Ù† FEBA shop">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="shortcut icon" href="https://raw.githubusercontent.com/febashop/website-assets/294cefdac2ddef81f6459e8f1d7fec351dc735d0/feba-icon.svg" type="image/x-icon">

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&display=swap');
    * {
      font-family: "Cairo", sans-serif;
    }
    body {
      background: #ecf0f1;
    }
    .product-card {
      display: flex;
      flex-direction: column;
      transition: all 0.3s ease;
      overflow: hidden;
      cursor: pointer;
    }
    .product-card:hover {
      transform: translateY(-3px);
    }
    .original-price {
      text-decoration: line-through;
      color: #888;
      font-size: 14px;
      margin-left: 5px;
    }
    .color-option {
      transition: transform 0.2s ease;
    }
    .color-option:hover {
      transform: scale(1.1);
    }
    .size-option {
      transition: all 0.2s ease;
    }
    .size-option:hover {
      border-color: #000;
    }
    .thumbnail {
      transition: all 0.2s ease;
    }
    .thumbnail:hover {
      opacity: 0.8;
      transform: scale(1.05);
    }
    .buy-button {
      transition: all 0.3s ease;
    }
    .buy-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(249, 115, 22, 0.4);
    }
    
    /* NEW: Skeleton CSS for smooth loading */
    .skeleton {
      background-color: #e0e0e0;
      animation: pulse 1.5s infinite;
      border-radius: 8px;
    }
    .thumbnail-skeleton {
      width: 80px;
      height: 80px;
      border-radius: 4px;
      flex-shrink: 0;
    }
    @keyframes pulse {
      0% {
        opacity: 0.6;
      }
      50% {
        opacity: 0.9;
      }
      100% {
        opacity: 0.6;
      }
    }

        /* Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø±Ù…Ø§Ø¯ÙŠ */
    .productCardSkeleton {
      background-color: #e2e8f0;
      position: relative;
      overflow: hidden;
      border-radius: 4px;
    }

    /* Ø­Ø±ÙƒØ© Ø§Ù„Ù„Ù…Ø¹Ø§Ù† */
    .productCardSkeleton::after {
      content: "";
      position: absolute;
      top: 0; right: 0; bottom: 0; left: 0;
      transform: translateX(-100%);
      background-image: linear-gradient(90deg, rgba(255,255,255,0) 0, rgba(255,255,255,0.3) 50%, rgba(255,255,255,0) 100%);
      animation: productSkeletonShimmer 1.5s infinite;
    }

    @keyframes productSkeletonShimmer {
      100% { transform: translateX(100%); }
    }

    /* Ø¥Ø®ÙØ§Ø¡ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
    .product-content-hidden { opacity: 0; transition: opacity 0.5s ease; }
    .is-product-ready .product-content-hidden { opacity: 1; }
    .is-product-ready .product-skeleton-overlay { display: none; }
  </style>

  <title id="pageTitle">FEBA shop</title>
</head>

<body class="min-h-screen flex flex-col">

  <header class="bg-white ">
    <div class="bg-[#ecf0f1] md:hidden">
      <div
        style="cursor: default;"
        id="elegantText"
        class="select-none text-orange-500 text-center py-4 text-xl sm:text-4xl font-bold tracking-wide uppercase transition-all duration-700 ease-out"
        aria-label="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹"
        >
        Ù„Ù…Ø³ØªÙƒ Ø§Ù„Ø£Ù†ÙŠÙ‚Ø© ØªØ¨Ø¯Ø£ Ù‡Ù†Ø§
      </div>

    </div>
    
    <div class="container mx-auto px-4 py-4 flex items-center justify-between">
      
      <a href="../../index.html" class="flex items-center">
        <img
          src="https://raw.githubusercontent.com/febashop/website-assets/383e74c22f796140ffa15b059cd468720064453f/feba-logo.svg"
          alt="Ø´Ø¹Ø§Ø± FEBA"
          class="h-10 md:h-20 w-auto"
        />
      </a>

      <div class=" md:flex items-center space-x-6">
          <div
            class="absolute left-1/2 transform -translate-x-1/2 w-1/3 hidden md:block "
          >
            <div
            style="cursor: default;"
            id="elegantText2"
            class="select-none text-orange-500 text-center py-4 text-xl sm:text-4xl font-bold tracking-wide uppercase transition-all duration-700 ease-out"
            aria-label="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©"
            >
            Ù„Ù…Ø³ØªÙƒ Ø§Ù„Ø£Ù†ÙŠÙ‚Ø© ØªØ¨Ø¯Ø£ Ù‡Ù†Ø§
            </div>
            
          </div>

          <div class="flex space-x-4 items-center">
            <a
            href="../../index.html"
            class="text-gray-600 hover:text-orange-500 transition-transform duration-300 hover:scale-110"
            aria-label="Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
            </svg>
          </a>
            <a
              href="https://www.instagram.com/febashop/"
              target="_blank"
              class="text-gray-600 hover:text-pink-500 transition-transform duration-300 hover:scale-110"
              aria-label="Ø­Ø³Ø§Ø¨ Ø§Ù†Ø³ØªØºØ±Ø§Ù…"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="currentColor"
                viewBox="0 0 448 512"
                class="h-6 w-6"
              >
                <path
                  d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"
                />
              </svg>
            </a>
            <a
              href="https://www.tiktok.com/@feba_shop"
              target="_blank"
              class="text-gray-600 hover:text-black transition-transform duration-300 hover:scale-110 hover:animate-pulse"
              aria-label="Ø­Ø³Ø§Ø¨ ØªÙŠÙƒ ØªÙˆÙƒ"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="currentColor"
                viewBox="0 0 448 512"
                class="h-6 w-6"
              >
                <path
                  d="M448 209.9a210.1 210.1 0 0 1 -122.8-39.3V349.4A162.6 162.6 0 1 1 185 188.3V278.2a74.6 74.6 0 1 0 52.2 71.2V0l88 0a121.2 121.2 0 0 0 1.9 22.2h0A122.2 122.2 0 0 0 381 102.4a121.4 121.4 0 0 0 67 20.1z"
                />
              </svg>
            </a>
            <a
              href="https://wa.me/212619786178"
              target="_blank"
              class="text-gray-600 hover:text-green-500 transition-transform duration-300 hover:scale-110 hover:animate-pulse"
              aria-label="Ø§ØªØµÙ„ Ø¨Ù†Ø§ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="currentColor"
                viewBox="0 0 448 512"
                class="h-6 w-6"
              >
                <path
                  d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"
                />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class="flex-grow container mx-auto px-4 py-6 md:w-[70%]">

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

      <div dir="rtl">
        <div class="relative w-full bg-white rounded-lg shadow-md overflow-hidden">
          
          <div class="relative w-full h-[340px] md:h-[500px] bg-white">
              <div id="mainImageSkeleton" class="absolute inset-0 skeleton"></div>
              
              <img
                id="mainImage"
                src=""
                class="w-full h-full object-cover opacity-0 transition-opacity duration-500"
                alt=""
                loading="eager"
              />
          </div>
          <button
            id="prev"
            class="absolute top-1/2 right-2 w-10 h-16 bg-gray-400 bg-opacity-60 text-white text-3xl flex items-center justify-center cursor-pointer rounded z-10 -translate-y-1/2 hover:bg-opacity-80 transition-all"
            aria-label="Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©"
          >
            &#10094;
          </button>

          <button
            id="next"
            class="absolute top-1/2 left-2 w-10 h-16 bg-gray-400 bg-opacity-60 text-white text-3xl flex items-center justify-center cursor-pointer rounded z-10 -translate-y-1/2 hover:bg-opacity-80 transition-all"
            aria-label="Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©"
          >
            &#10095;
          </button>
        </div>

        <div
          id="thumbnailList"
          class="mt-4 flex flex-row gap-3 overflow-x-auto py-2 px-1"
        >
          </div>
      </div>

      <div dir="rtl">
        <h1 class="text-3xl font-bold text-gray-900 mb-1" id="productTitleDisplay">
          </h1>
        <p class="text-gray-500 text-sm" id="productTagDisplay">
          </p>

        <div  id="saleBox">
          </div>

        <h3 class="text-lg font-bold mt-6 mb-2 text-gray-800">
          Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªÙˆÙØ±Ø©:
          <span id="selectedColorName" class="text-orange-600"></span>
        </h3>
        <div id="colorOptions" class="flex gap-3"></div>

        <h3 class="text-lg font-bold mt-6 mb-2 text-gray-800">
          Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø©:
          <span id="selectedSize" class="text-orange-600"></span>
        </h3>
        <div id="sizes" class="flex gap-2 flex-wrap"></div>
        
        <div class="flex items-center gap-4 mt-8 md:mx-10">

          <button class="w-20 h-[54px] py-6 border rounded-lg bg-white shadow flex items-center justify-center buy-button" id="shareButton" aria-label="Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="18" cy="5" r="3"></circle>
                <circle cx="6" cy="12" r="3"></circle>
                <circle cx="18" cy="19" r="3"></circle>
                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
            </svg>
          </button>

          <button 
            id="whatsappOrderButton" 
            class="flex items-center gap-2 justify-center bg-orange-500 text-white px-8 py-3 rounded-lg font-bold text-lg w-full md:w-full shadow hover:bg-orange-600 transition buy-button"
            aria-label="Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨"
          >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="currentColor"
                viewBox="0 0 448 512"
                class="h-6 w-6"
              >
                <path
                  d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"
                />
              </svg>
            Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬
          </button>
        </div>

        <h2 class="text-2xl font-bold mt-10 mb-4">ØªÙØ§ØµÙŠÙ„</h2>

        <p class="text-gray-700 leading-relaxed">
          Ø¹Ø¨Ø§ÙŠØ© Ø£Ù†ÙŠÙ‚Ø© Ù…ØµÙ…Ù…Ø© Ø¨ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø·Ø±Ø²Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ© Ø§Ù„ÙØ§Ø®Ø±Ø©. Ù…ØµÙ†ÙˆØ¹Ø© Ù…Ù† Ø£Ø¬ÙˆØ¯ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ù‚Ù…Ø´Ø© 
          Ø§Ù„ØªÙŠ ØªÙˆÙØ± Ø§Ù„Ø±Ø§Ø­Ø© ÙˆØ§Ù„Ø£Ù†Ø§Ù‚Ø© ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª. ØªØªÙ…ÙŠØ² Ø¨ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ ÙŠÙ†Ø§Ø³Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª.
        </p>

      </div>

    </div>

    <div dir="rtl">
      <h2 class="text-xl font-bold mt-12 mb-4">Ù…Ù†ØªØ¬Ø§Øª Ø°Ø§Øª ØµÙ„Ø©</h2>

      <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-5" id="relatedProducts">
        </div>

     </div>
    

  </div>

  <footer dir="rtl" class="bg-black text-white mt-10">
      <div class="container mx-auto px-4 py-8 md:py-10 grid grid-cols-1 md:grid-cols-3 gap-8 text-right">
        
        <div class="col-span-1">
          <img
            src="https://raw.githubusercontent.com/febashop/website-assets/72637aedc92d677158e613bfd8b295b6dd6edb72/feba-logo-white.svg"
            alt="Feba Logo White"
            class="h-16 w-auto mb-4 inline-block"
          />
          <p class="text-sm text-gray-400 mb-4">
            Ù…ØªØ¬Ø± FEBA Ù‡Ùˆ ÙˆØ¬Ù‡ØªÙƒ Ù„Ù„Ø£Ø²ÙŠØ§Ø¡ Ø§Ù„Ù†Ø³Ø§Ø¦ÙŠØ©. Ù„Ø·Ù„Ø¨ Ø£Ùˆ Ø§Ø³ØªÙØ³Ø§Ø±ØŒ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§:
          </p>
          
          <a dir="ltr" href="https://wa.me/212619786178" target="_blank" class="text-sm font-bold text-orange-500 hover:text-orange-300 transition flex items-center justify-end">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 448 512" class="h-5 w-5 text-green-500 mr-2">
                <path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/>
              </svg> 
            <span class="text-white text-base font-semibold">212619786178</span>
              
            </a>
        </div>

        <div class="col-span-1">
          <h3 class="text-lg font-bold mb-4 border-b border-orange-500 pb-1 inline-block">ØªØ§Ø¨Ø¹ÙˆÙ†Ø§</h3>
          <ul class="space-y-2 text-sm mt-4">
            <li><a href="https://www.instagram.com/febashop/" target="_blank" class="text-gray-400 hover:text-orange-500 transition">Ø¥Ù†Ø³ØªØºØ±Ø§Ù…</a></li>
            <li><a href="https://www.tiktok.com/@feba_shop" target="_blank" class="text-gray-400 hover:text-orange-500 transition">ØªÙŠÙƒ ØªÙˆÙƒ</a></li>
            <li><a href="../../index.html" class="text-gray-400 hover:text-orange-500 transition">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
          </ul>
        </div>
        
        <div class="col-span-1">
          <h3 class="text-lg font-bold mb-4 border-b border-orange-500 pb-1 inline-block">Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø´Ø­Ù†</h3>
          <p class="text-sm text-gray-400 mb-4 mt-4">
            ÙŠØªÙ… Ø§Ù„Ø¯ÙØ¹ **Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…** ÙˆØªÙˆÙÙŠØ± Ø®Ø¯Ù…Ø© Ø§Ù„Ø´Ø­Ù† Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¯Ù† Ø§Ù„Ù…ØºØ±Ø¨ÙŠØ©.
          </p>
          
          <div class="text-right">
            <span class="bg-white text-black text-xs font-bold px-3 py-1 rounded shadow-md inline-block">
                Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…
            </span>
          </div>
        </div>
      </div>
      
      <div class="py-4 container mx-auto px-4 text-center border-t border-gray-800 text-gray-500 text-sm">
        &copy; 2025 FEBAshop. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.
      </div>
    </footer>
    <script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
    const product = {
      title: "Ø¹Ø¨Ø§ÙŠØ© Ø³ØªØ±Ø§Ø³ Ø§Ù„Ø¥Ù…Ø±Ø§ØªÙŠØ© Ø¨Ø§Ù„ÙÙˆÙ„Ø§Ø±",
      categoryTag: "#Ø¹Ø¨Ø§ÙŠØ©",
      salePrice: "349.00",
      originalPrice: "400.00",
      colors: [
        {
          name: "Ø¬Ø±ÙˆÙ†Ø© ",
          colorCode: "#612834",
          images: [
           "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-grona001.webp",
           "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-grona002.webp",
           "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-grona003.webp",
           "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-grona004.webp",
           "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-grona005.webp", 
               
          ],
          alt: "Ø¹Ø¨Ø§ÙŠØ© Ø³ØªØ±Ø§Ø³ Ø§Ù„Ø¥Ù…Ø±Ø§ØªÙŠØ© Ø¨Ø§Ù„ÙÙˆÙ„Ø§Ø± - Ø§Ù„Ù„ÙˆÙ† Ø¬Ø±ÙˆÙ†Ø©"
        },
        
        {
          name: "ÙƒØ§Ø´ÙŠØ±ÙŠ",
          colorCode: "#b69098",
          images: [
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-kachiri001.webp", 
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-kachiri002.webp", 
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-kachiri003.webp", 
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-kachiri004.webp", 
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-kachiri005.webp", 
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-kachiri006.webp", 
            
            

            
          ],
          alt: "Ø¹Ø¨Ø§ÙŠØ© Ø³ØªØ±Ø§Ø³ Ø§Ù„Ø¥Ù…Ø±Ø§ØªÙŠØ© Ø¨Ø§Ù„ÙÙˆÙ„Ø§Ø± - Ø§Ù„Ù„ÙˆÙ† ÙƒØ§Ø´ÙŠØ±ÙŠ"
        },
        {
          name: "Ø¨Ù†ÙØ³Ø¬ÙŠ",
          colorCode: "#4a2248",
          images: [
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-move001.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-move002.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-move003.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-move004.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-move005.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-move006.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-move007.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-move008.webp", 
            
          ],
          alt: "Ø¹Ø¨Ø§ÙŠØ© Ø³ØªØ±Ø§Ø³ Ø§Ù„Ø¥Ù…Ø±Ø§ØªÙŠØ© Ø¨Ø§Ù„ÙÙˆÙ„Ø§Ø± - Ø§Ù„Ù„ÙˆÙ† Ø¨Ù†ÙØ³Ø¬ÙŠ"
        },
        {
          name: "Ø£Ø³ÙˆØ¯",
          colorCode: "#1f1f21",
          images: [
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-noir001.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-noir002.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-noir003.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-noir004.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-noir005.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-noir006.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-noir007.webp",
            
          ],
          alt: "Ø¹Ø¨Ø§ÙŠØ© Ø³ØªØ±Ø§Ø³ Ø§Ù„Ø¥Ù…Ø±Ø§ØªÙŠØ© Ø¨Ø§Ù„ÙÙˆÙ„Ø§Ø± - Ø§Ù„Ù„ÙˆÙ† Ø£Ø³ÙˆØ¯"
        },
        {
          name: "ÙˆØ±Ø¯ÙŠ",
          colorCode: "#a66776",
          images: [
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-roze001.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-roze002.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-roze003.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-roze004.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-roze005.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-roze006.webp",
            "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-strass/abaya-strass-roze007.webp",
          ],
          alt: "Ø¹Ø¨Ø§ÙŠØ© Ø³ØªØ±Ø§Ø³ Ø§Ù„Ø¥Ù…Ø±Ø§ØªÙŠØ© Ø¨Ø§Ù„ÙÙˆÙ„Ø§Ø± - Ø§Ù„Ù„ÙˆÙ† Ø§Ù„ÙˆØ±Ø¯ÙŠ"
        }
      ],
      sizes: ["M","L","XL","2XL","3XL"],
    };

    // Ø¹Ù†Ø§ØµØ± DOM
    const mainImage = document.getElementById("mainImage");
    const mainImageSkeleton = document.getElementById("mainImageSkeleton");
    const thumbnailList = document.getElementById("thumbnailList");
    const colorOptions = document.getElementById("colorOptions");
    const selectedColorName = document.getElementById("selectedColorName");
    const sizesContainer = document.getElementById("sizes");
    const selectedSize = document.getElementById("selectedSize");
    const prevArrow = document.getElementById("prev");
    const nextArrow = document.getElementById("next");
    const shareButton = document.getElementById("shareButton");
    const whatsappOrderButton = document.getElementById("whatsappOrderButton");
    const saleBox = document.getElementById("saleBox");
    const pageTitle = document.getElementById("pageTitle"); 
    const productTitleDisplay = document.getElementById("productTitleDisplay"); 
    const productTagDisplay = document.getElementById("productTagDisplay"); 

    // ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ù…ØªØºÙŠØ±Ø§Øª Ù…ÙŠØ²Ø© Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±

    // Ù…ØªØºÙŠØ±Ø§Øª Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
    let currentColorIndex = 0;
    let currentImageIndex = 0; 
    let currentSizeIndex = 1; 
    let saleEndDate = null;
    let isOfferActive = true;

    // Ø¯Ø§Ù„Ø© Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¨Ø§Ù„ØµÙŠØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (DD/MM/YYYY)
    function formatDate(date) {
      const day = String(date.getDate()).padStart(2, '0');
      const month = String(date.getMonth() + 1).padStart(2, '0');
      const year = date.getFullYear();
      return `${day}/${month}/${year}`;
    }

    // Ø¯Ø§Ù„Ø© Ù„ØªÙ‡ÙŠØ¦Ø© ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡
    function initializeSaleEndDate() {
      const today = new Date();
      const endDate = new Date(today);
      endDate.setDate(today.getDate() + 10);
      return endDate;
    }

    // Ø¯Ø§Ù„Ø© Ù„ÙØ­Øµ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¹Ø±Ø¶ Ù„Ø§ ÙŠØ²Ø§Ù„ Ù†Ø´Ø·Ù‹Ø§
    function checkOfferStatus() {
      const today = new Date();
      const timeDiff = saleEndDate.getTime() - today.getTime();
      const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));
      
      return daysDiff > 0;
    }

    // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬
    function updatePriceDisplay() {
      isOfferActive = checkOfferStatus();
      
      if (isOfferActive) {
        const today = new Date();
        const timeDiff = saleEndDate.getTime() - today.getTime();
        const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));
        
        saleBox.innerHTML = `
          <div class = "border border-orange-500 bg-white rounded mt-4 shadow-sm">
          <div>
            <div class="flex left-50 bg-red-500 text-white px-4 py-2 text-sm font-bold text-[15px] justify-between items-center">
              <span>Ø¹Ø±Ø¶ ØµØ§Ù„Ø­ Ø¥Ù„Ù‰ ØºØ§ÙŠØ©</span>
              <span class="sale-date-display">${formatDate(saleEndDate)} (â³ ${daysDiff} ÙŠÙˆÙ…)</span>
            </div>
          </div>

          <div class="px-4 py-3">
            <div class="text-3xl font-extrabold text-gray-900">
              ${product.salePrice} Ø¯Ø±Ù‡Ù… 
            </div>
            <div class="flex items-center gap-3 mt-1">
              <span class="text-xs bg-red-100 text-red-600 px-2 py-1 rounded font-bold">
                ØªØ®ÙÙŠØ¶ Ø¨Ù‚ÙŠÙ…Ø© ${(parseFloat(product.originalPrice) - parseFloat(product.salePrice)).toFixed(2)} Ø¯Ø±Ù‡Ù…
              </span>
              <span class="line-through text-gray-500">${product.originalPrice} Ø¯Ø±Ù‡Ù…</span>
            </div>
          </div>
          </div>
        `;
        
        const dateSpan = saleBox.querySelector('.sale-date-display');
        if (daysDiff <= 3) {
          dateSpan.classList.add('animate-pulse', 'text-yellow-300', 'font-bold');
        }
      } else {
        saleBox.innerHTML = `
          <div class="px-4 py-3">
            <div class="text-3xl font-extrabold">
              ${product.originalPrice} Ø¯Ø±Ù‡Ù… 
            </div>
            
          </div>
        `;
        
        saleBox.classList.remove('border-orange-500');
        saleBox.classList.add('border-gray-300');
      }
    }

    // Ø¯Ø§Ù„Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© ÙˆØ§ØªØ³Ø§Ø¨ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
    function createWhatsAppMessage() {
      const selectedColor = product.colors[currentColorIndex];
      const selectedSizeValue = product.sizes[currentSizeIndex];
      
      // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© Ù…ÙØµÙ„Ø©
      const message = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£Ø±ØºØ¨ ÙÙŠ Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„ØªØ§Ù„ÙŠ:

ğŸ“¦ *${product.title}*
ğŸ¨ *Ø§Ù„Ù„ÙˆÙ†:* ${selectedColor.name}
ğŸ“ *Ø§Ù„Ù…Ù‚Ø§Ø³:* ${selectedSizeValue}


ğŸ”— Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù†ØªØ¬: ${window.location.href}

Ù‡Ù„ Ø§Ù„Ù…Ù†ØªØ¬ Ù…ØªÙˆÙØ± Ø¨Ø§Ù„Ù„ÙˆÙ† ÙˆØ§Ù„Ù…Ù‚Ø§Ø³ Ø§Ù„Ù…Ø®ØªØ§Ø±ÙŠÙ†ØŸ
ÙˆØ´ÙƒØ±Ø§Ù‹!`;
      
      const encodedMessage = encodeURIComponent(message);
      const phoneNumber = "212619786178";
      
      return `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
    }

    // **Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§:** Ø¯Ø§Ù„Ø© Ù„ÙØªØ­ Ø±Ø§Ø¨Ø· ÙˆØ§ØªØ³Ø§Ø¨ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© (Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±Ø§Øª)
    function openWhatsAppWithOrder() {
      // Ø§Ù„ØªØ­Ù‚Ù‚: ÙŠØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ø®ØªØ§Ø± Ø§Ù„Ù„ÙˆÙ† ÙˆØ§Ù„Ù…Ù‚Ø§Ø³ Ø£ÙˆÙ„Ø§Ù‹
      if (currentSizeIndex === null || currentColorIndex === null) {
          alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ÙˆÙ† ÙˆØ§Ù„Ù…Ù‚Ø§Ø³ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨.");
          return;
      }
      const whatsappUrl = createWhatsAppMessage();
      window.open(whatsappUrl, '_blank');
    }
    // Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„

    // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ Ù…Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬
    function updateProductText() {
        pageTitle.textContent = `${product.title} - FEBA shop`;
        productTitleDisplay.textContent = product.title;
        productTagDisplay.textContent = product.categoryTag;
    }

    // FIX: Function to handle image loading with skeleton
    function loadMainImage(url, altText) {
        // 1. Show Skeleton and hide image
        mainImageSkeleton.classList.remove('hidden');
        mainImage.classList.add('opacity-0'); 

        // 2. Set Alt Text
        mainImage.alt = altText;

        // 3. Define the handler to remove the skeleton/opacity
        const completeLoad = () => {
            mainImageSkeleton.classList.add('hidden');
            mainImage.classList.remove('opacity-0'); 
            // Remove the handler to avoid potential re-triggers
            mainImage.onload = null; 
        };
        
        // 4. Attach the handler
        mainImage.onload = completeLoad;

        // 5. Load the new image URL
        mainImage.src = url;

        // 6. Check if image is already cached/loaded (THE FIX)
        if (mainImage.complete) {
            completeLoad(); // Manually trigger the load completion logic
        }

        mainImage.onerror = () => {
            mainImageSkeleton.classList.add('hidden'); 
            mainImage.classList.remove('opacity-0');
            // Optionally, set a fallback image source here
            mainImage.src = "fallback-error.png"; 
        };
    }
    // END FIX

    // NEW: Function to preload all images for the current color
    function preloadCurrentColorImages() {
        const currentColor = product.colors[currentColorIndex];
        currentColor.images.forEach(imgUrl => {
            const preloader = new Image();
            preloader.src = imgUrl; // Load image into browser cache
        });
    }

    // ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© (hideGalleryElements Ùˆ resetUploadState)

    function renderUI() {
      const currentColor = product.colors[currentColorIndex];
      
      // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ØµØºØ±Ø©
      thumbnailList.innerHTML = "";
      currentColor.images.forEach((imgSrc, idx) => {
        const thumbnailWrapper = document.createElement("div");
        thumbnailWrapper.className = "relative w-20 h-20 rounded flex-shrink-0";
        
        const img = document.createElement("img");
        img.src = imgSrc;
        img.alt = `${currentColor.alt} (ØµÙˆØ±Ø© ${idx + 1})`; 
        img.loading = "lazy"; // lazy load thumbnails 
        img.className = "thumbnail w-full h-full object-cover border-2 cursor-pointer rounded transition-opacity duration-300 " +
          (idx === currentImageIndex ? "border-orange-500" : "border-gray-200");
        
        // Apply skeleton to thumbnails initially
        img.classList.add('opacity-0');
        const skeletonDiv = document.createElement('div');
        skeletonDiv.className = 'absolute inset-0 thumbnail-skeleton skeleton';
        
        // Handle thumbnail load to show the image and hide skeleton
        img.onload = () => {
            img.classList.remove('opacity-0');
            skeletonDiv.classList.add('hidden');
            img.onload = null; // Clean up
        };

        // Pre-load the source if it's the currently viewed thumbnail for better UX
        if (idx === currentImageIndex) {
             img.loading = "eager";
        }
        
        thumbnailWrapper.appendChild(skeletonDiv);
        thumbnailWrapper.appendChild(img);
        
        img.addEventListener("click", () => setCurrentImage(idx)); 
        thumbnailList.appendChild(thumbnailWrapper);
      });
      
      // Ø¥Ù†Ø´Ø§Ø¡ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù† 
      colorOptions.innerHTML = "";
      product.colors.forEach((color, idx) => {
        const colorDiv = document.createElement("div");
        colorDiv.className = "color-option relative";

        const circle = document.createElement("div");
        circle.className = "w-10 h-10 rounded-full border-2 cursor-pointer";
        circle.style.backgroundColor = color.colorCode;
        circle.setAttribute("aria-label", `Ø§Ù„Ù„ÙˆÙ† ${color.name}`);
        if (idx === currentColorIndex) {
          circle.classList.add("border-orange-500", "ring-2", "ring-orange-200");
        } else {
          circle.classList.add("border-gray-300");
        }
        
        circle.addEventListener("click", () => setColor(idx)); 

        colorDiv.appendChild(circle);
        colorOptions.appendChild(colorDiv);
      });

      selectedColorName.textContent = currentColor.name;
      
      // Ø¥Ù†Ø´Ø§Ø¡ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª
      sizesContainer.innerHTML = "";
      product.sizes.forEach((size, idx) => {
        const btn = document.createElement("button");
        btn.textContent = size;
        btn.className = "size-option px-4 py-2 border rounded-lg font-medium " +
          (idx === currentSizeIndex ?
            "bg-gray-800 border-gray-800 text-white" :
            "border-gray-300 text-gray-700 hover:bg-gray-100");
        btn.setAttribute("aria-label", `Ø§Ù„Ù…Ù‚Ø§Ø³ ${size}`);
        btn.addEventListener("click", () => setSize(idx));
        sizesContainer.appendChild(btn);
      });

      selectedSize.textContent = product.sizes[currentSizeIndex];
    }

    // Ø¯Ø§Ù„Ø© Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ù„ÙˆÙ†
    function setColor(idx) {
      // ØªÙ… Ø¥Ø²Ø§Ù„Ø© resetUploadState()
      currentColorIndex = idx;
      currentImageIndex = 0; 
      
      const currentColor = product.colors[currentColorIndex];
      const url = currentColor.images[currentImageIndex];
      
      loadMainImage(url, currentColor.alt); 
      preloadCurrentColorImages(); // NEW: Preload all images for the new color
      renderUI();
    }
    
    // Ø¯Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù„ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ÙØ±Ø¹ÙŠØ© Ù„Ù„ÙˆÙ† Ø§Ù„Ø­Ø§Ù„ÙŠ
    function setCurrentImage(idx) {
      currentImageIndex = idx;
      const currentColor = product.colors[currentColorIndex];
      const url = currentColor.images[currentImageIndex];
      loadMainImage(url, currentColor.alt);
      renderUI(); // Render updated thumbnails
    }

    function setSize(idx) {
      // ØªÙ… Ø¥Ø²Ø§Ù„Ø© resetUploadState()
      currentSizeIndex = idx;
      renderUI();
    }

    // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙˆØ± (ØªÙ… Ø¥Ø²Ø§Ù„Ø© ÙØ­Øµ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©)
    prevArrow.addEventListener("click", () => {
      const currentColorImagesCount = product.colors[currentColorIndex].images.length;
      currentImageIndex = (currentImageIndex - 1 + currentColorImagesCount) % currentColorImagesCount; 
      
      const currentColor = product.colors[currentColorIndex];
      loadMainImage(currentColor.images[currentImageIndex], currentColor.alt);
      renderUI();
    });

    nextArrow.addEventListener("click", () => {
      const currentColorImagesCount = product.colors[currentColorIndex].images.length;
      currentImageIndex = (currentImageIndex + 1) % currentColorImagesCount;
      
      const currentColor = product.colors[currentColorIndex];
      loadMainImage(currentColor.images[currentImageIndex], currentColor.alt);
      renderUI();
    });

    // ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ù…Ù†Ø·Ù‚ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© (imageUpload.addEventListener)

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
    saleEndDate = initializeSaleEndDate();
    
    updateProductText();
    preloadCurrentColorImages(); // Initial preload
    
    // ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ© (Ù„ØªØµØ­ÙŠØ­ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø¸Ù‡ÙˆØ±)
    const initialColor = product.colors[currentColorIndex];
    loadMainImage(initialColor.images[currentImageIndex], initialColor.alt); 
    
    renderUI(); // Initial render for thumbnails/options
    updatePriceDisplay();

    setInterval(updatePriceDisplay, 3600000);


    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø°Ø§Øª Ø§Ù„ØµÙ„Ø© (Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… lazy loading)
    const relatedProducts = [
      {
        title: "Ø¹Ø¨Ø§ÙŠØ© Ù†ÙˆØ± Ø§Ù„Ø¥Ù…Ø±Ø§ØªÙŠØ©",
        img: "https://cdn.jsdelivr.net/gh/febashop/website-assets/products/abaya/abaya-nour/abaya-nour-beige001.webp",
        price: "309.00",
        originalPrice: "400.00",
        discount: 23,
        category: "Ø¹Ø¨Ø§ÙŠØ©",
        tag: "",
        link: "https://shop.febashop.workers.dev/products/abaya/%D8%B9%D8%A8%D8%A7%D9%8A%D8%A9-%D9%86%D9%88%D8%B1-%D8%A7%D9%84%D8%A5%D9%85%D8%B1%D8%A7%D8%AA%D9%8A%D8%A9-%D8%A8%D8%A7%D9%84%D9%81%D9%88%D9%84%D8%A7%D8%B1",
        alt: "Ø¹Ø¨Ø§ÙŠØ© Ù†ÙˆØ± Ø§Ù„Ø¥Ù…Ø±Ø§ØªÙŠØ©"
      },

      {
          title: "Ø£ÙˆÙ†ØµÙˆÙ…Ø¨Ù„ Ø¬ÙˆØ¨Ø©",
          img: "https://cdn.jsdelivr.net/gh/febashop/website-assets@main/products/enssembl/enssemnle-jupe/enssembl-jupe-camel002.webp",
          price: "230.00",
          originalPrice: "300.00",
          discount: 23,
          category: "Ø£ÙˆÙ†ØµÙˆÙ…Ø¨Ù„",
          tag: "",
          link: "https://shop.febashop.workers.dev/products/enssemble/%D8%A3%D9%88%D9%86%D8%B5%D9%88%D9%85%D8%A8%D9%84-%D8%AC%D9%88%D8%A8%D8%A9",  
          alt: "Ø£ÙˆÙ†ØµÙˆÙ…Ø¨Ù„ Ø¬ÙˆØ¨Ø©"
        },

        {
          title: "Ø£ÙˆÙ†ØµÙˆÙ…Ø¨Ù„ Ø£Ù†Ø¯Ù„Ø³",
          img: "https://cdn.jsdelivr.net/gh/febashop/website-assets@main/products/enssembl/enssembl-andalous/enssemble-andalous-grouna001.webp",
          price: "230.00",
          originalPrice: "349.00",
          discount: 34,
          category: "Ø£ÙˆÙ†ØµÙˆÙ…Ø¨Ù„",
          tag: "Ø¬Ø¯ÙŠØ¯",
          link: "https://shop.febashop.workers.dev/products/enssemble/%D8%A3%D9%88%D9%86%D8%B5%D9%88%D9%85%D8%A8%D9%84-%D8%A3%D9%86%D8%AF%D9%84%D8%B3",
          alt: "Ø£ÙˆÙ†ØµÙˆÙ…Ø¨Ù„ Ø£Ù†Ø¯Ù„Ø³"  
      },

      {
          title: "Ø¨ÙŠØ¬Ø§Ù…Ø© Ø·ÙˆÙŠÙ„Ø© Ø§Ù„ÙƒÙ… Ø¨Ø§Ù„Ø´Ø¨ÙƒØ©",
          img: "https://cdn.jsdelivr.net/gh/febashop/website-assets@main/products/pyjama/pyjama-twila-blkom-chbka/pyjama-twila-blkom-chbka-ciel002.webp",
          price: "160.00",
          originalPrice: "200.00",
          discount: 20,
          category: "Ø¨ÙŠØ¬Ø§Ù…Ø©",
          tag: "Ø¬Ø¯ÙŠØ¯",
          link: "https://shop.febashop.workers.dev/products/pyjama/%D8%A8%D9%8A%D8%AC%D8%A7%D9%85%D8%A9-%D8%B7%D9%88%D9%8A%D9%84%D8%A9-%D8%A7%D9%84%D9%83%D9%85-%D8%A8%D8%A7%D9%84%D8%B4%D8%A8%D9%83%D8%A9",
          alt: "Ø¨ÙŠØ¬Ø§Ù…Ø© Ø·ÙˆÙŠÙ„Ø© Ø§Ù„ÙƒÙ… Ø¨Ø§Ù„Ø´Ø¨ÙƒØ©" 
        },
      
    ];

    // Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø°Ø§Øª Ø§Ù„ØµÙ„Ø©
    const relatedProductsGrid = document.getElementById("relatedProducts");
    
    // ØªÙØ±ÙŠØº Ø§Ù„Ø´Ø¨ÙƒØ© Ø£ÙˆÙ„Ø§Ù‹
    relatedProductsGrid.innerHTML = "";

    relatedProducts.forEach(product => {
        const card = document.createElement("a");
        card.href = product.link;
        // Ø§Ù„ÙƒÙ„Ø§Ø³Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„Ø¨Ø·Ø§Ù‚Ø© Ù…Ø¹ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª
        card.className = "product-card block relative overflow-hidden   transition-all duration-300 hover:-translate-y-1";
        
        card.innerHTML = `
            <div class="product-skeleton-overlay absolute inset-0 z-10 p-3 flex flex-col bg-white">
              <div class="productCardSkeleton w-full h-40 md:h-48 mb-3"></div> <div class="flex justify-end mb-2"><div class="productCardSkeleton w-20 h-3"></div></div> <div class="productCardSkeleton w-full h-4 mb-3"></div> <div class="mt-auto flex justify-end"><div class="productCardSkeleton w-24 h-5"></div></div> </div>

            <div class="product-content-hidden flex flex-col h-full">
              <div class="relative">
                <img src="${product.img}" 
                    class="w-full h-40 md:h-48 object-cover" 
                    alt="${product.title}" 
                    loading="lazy"
                    onload="this.closest('.product-card').classList.add('is-product-ready')">
                
                ${product.discount ? `<div class="absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded font-bold text-[8px] md:text-xs">-${product.discount}%</div>` : ''}
                ${product.tag ? `<div class="absolute top-2 left-2 bg-black text-white px-2 py-1 rounded font-bold text-[8px] md:text-xs">${product.tag}</div>` : ''}
              </div>

              <div dir="ltr" class="p-3 flex flex-col flex-grow">
                <div class="float-right mb-1">
                  <div class="flex items-center justify-end space-x-2">
                      <span class="text-[8px] md:text-xs text-gray-500">Ø§Ù„ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ</span>
                      <span class="text-[8px] md:text-xs text-gray-500">â€¢</span>
                      <span class="text-[8px] md:text-xs text-red-500 bg-gray-200 px-2 py-1 rounded">${product.category}</span>
                  </div>
                </div>

                <h3 class="text-sm font-medium text-gray-800 mb-2 text-right">${product.title}</h3>

                <div class="mt-auto float-right">
                  <div class="flex items-center justify-end">
                    <span class="text-[15px] font-bold text-orange-500">${product.price} MAD</span>
                    ${product.originalPrice ? `<span class="original-price text-[9px] md:text-[12px] ml-2 line-through text-gray-400">${product.originalPrice} MAD</span>` : ''}
                  </div>
                </div>
              </div>
            </div>
        `;
        relatedProductsGrid.appendChild(card);
    });

    // ØªØ£Ø«ÙŠØ± ØªØºÙŠÙŠØ± Ø§Ù„Ù†Øµ
    const texts = [
      "Ù„Ù…Ø³ØªÙƒ Ø§Ù„Ø£Ù†ÙŠÙ‚Ø© ØªØ¨Ø¯Ø£ Ù‡Ù†Ø§",
      "Ù…ÙˆØ¶ØªÙƒâ€¦ ÙƒÙ…Ø§ ØªØ­Ø¨ÙŠÙ†",
      "Ø§Ø®ØªÙŠØ§Ø±Ùƒ ÙŠØ¹Ø¨Ø± Ø¹Ù†Ùƒ",
      "Ø£Ù†Ø§Ù‚Ø© ÙƒÙ„ ÙŠÙˆÙ…",
      "Ø¥Ø·Ù„Ø§Ù„ØªÙƒ Ø£Ø¬Ù…Ù„ Ù…Ø¹Ù†Ø§"
    ];

    const effects = [
      "opacity-0 translate-y-3",
      "opacity-0 -translate-y-3",
      "opacity-0 scale-95",
      "opacity-0 blur-sm"
    ];

    let index = 0;
    const el = document.getElementById("elegantText");

    function changeText() {
      const effect = effects[Math.floor(Math.random() * effects.length)];
      el.classList.add(...effect.split(" "));
      setTimeout(() => {
        index = (index + 1) % texts.length;
        el.textContent = texts[index];
        el.classList.remove(...effect.split(" "));
      }, 650);
    }

    setInterval(changeText, 2800);

    let index2 = 0;
    const el2 = document.getElementById("elegantText2");

    function changeText2() {
      const effect = effects[Math.floor(Math.random() * effects.length)];
      el2.classList.add(...effect.split(" "));
      setTimeout(() => {
        index2 = (index2 + 1) % texts.length;
        el2.textContent = texts[index2];
        el2.classList.remove(...effect.split(" "));
      }, 650);
    }

    setInterval(changeText2, 2800);

    // **Ø§Ù„Ø¬Ø²Ø¦ÙŠØ© Ø§Ù„Ù…Ø¶Ø§ÙØ©:** Ø±Ø¨Ø· Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ø§Ù„ÙˆØ¸Ø§Ø¦Ù (Ù„Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø¹Ø¯Ù… Ø¹Ù…Ù„ Ø²Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙƒØ©)
    // -----------------------------------------------------------------
    // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (Ø®Ø§ØµÙŠØ© Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙƒØ©)
    // -----------------------------------------------------------------

    // 1. Ø±Ø¨Ø· Ø²Ø± Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
    if (whatsappOrderButton) {
        whatsappOrderButton.addEventListener("click", openWhatsAppWithOrder);
    }

    // 2. Ø±Ø¨Ø· Ø²Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
    if (shareButton) {
        shareButton.addEventListener("click", () => {
            const shareData = {
                title: product.title,
                text: `Ø§Ø­ØµÙ„ÙŠ Ø¹Ù„Ù‰ "${product.title}" Ø§Ù„Ø¢Ù† Ù…Ù† FEBA shop. Ù…ØªÙˆÙØ± Ø¨Ø³Ø¹Ø±: ${isOfferActive ? product.salePrice : product.originalPrice} Ø¯Ø±Ù‡Ù….`,
                url: window.location.href,
            };

            if (navigator.share) {
                navigator.share(shareData);
            } else {
                // Ø­Ù„ Ø¨Ø¯ÙŠÙ„: Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©
                navigator.clipboard.writeText(`${shareData.text}\n${shareData.url}`).then(() => {
                    alert('ØªÙ… Ù†Ø³Ø® ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØ±Ø§Ø¨Ø·Ù‡ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©! ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø´Ø§Ø±ÙƒØªÙ‡Ø§ Ø§Ù„Ø¢Ù†.');
                });
            }
        });
    }

  </script>

</body>
</html>